---
import MainLayout from "../layouts/MainLayout.astro";
import { getEntry } from "astro:content";

// Get language from URL parameter
const url = new URL(Astro.request.url);
const lang = (url.searchParams.get('lang') === 'en' ? 'en' : 'ja') as "ja" | "en";

const about = await getEntry("specs", "about");
---

<MainLayout title={lang === 'ja' ? "自己紹介" : "About Me"}>
  <article class="prose prose-lg max-w-none">
    <div class="about-content" set:html={about.rendered.html} />
  </article>
</MainLayout>

<style>
  article {
    @apply px-6 py-8;
  }

  :global(.about-content h1) {
    @apply text-3xl font-bold mb-6 text-[var(--text-color)];
  }

  :global(.about-content h2) {
    @apply text-2xl font-semibold mt-8 mb-4 text-[var(--text-color)];
  }

  :global(.about-content h3) {
    @apply text-xl font-semibold mt-6 mb-3 text-[var(--text-color)];
  }

  :global(.about-content p) {
    @apply mb-4 text-[var(--text-color-lighten)] leading-relaxed;
  }

  :global(.about-content ul) {
    @apply list-disc list-inside mb-4 text-[var(--text-color-lighten)];
  }

  :global(.about-content li) {
    @apply mb-2;
  }

  :global(.about-content a) {
    @apply text-[var(--primary-color)] hover:text-[var(--primary-color-darken)] underline;
  }

  :global(.about-content hr) {
    @apply my-8 border-[var(--border-color)];
  }
</style>