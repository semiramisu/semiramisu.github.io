---
// スタイルはlink要素で非同期読み込みする
import "../styles/mobile-typography.css";
import "../styles/mobile-performance.css";
---

<style is:global>
  /* テーマの基本設定 */
  :root {
    --hue: 240;
    
    /* アクセントカラー（より鮮やかで目立つ色） */
    --accent-hue: 340;
    --success-hue: 140;
    --warning-hue: 45;
    --error-hue: 10;

    /* ライトモードとダークモードの両方で使う共通変数 */
    --primary-font: "Noto Sans SC", sans-serif;
    --brand-font: "Raleway", "Noto Sans SC", sans-serif;
    --code-font: "JetBrains Mono", "Fira Code", monospace;
    --page-width-lg: 992px;
    --page-width-xl: 1264px;
    --banner-height: 55vh;
    --title-font: var(--brand-font);
    --subtitle-font: var(--brand-font);
    --onload-animation-delay: 100ms;
    --onload-animation-interval: 100ms;
    --transition-speed: 0.3s;
    --transition-timing: ease;
    
    /* ライトモード用の色設定（コントラスト比改善） */
    --light-primary-color: oklch(55% 0.22 var(--hue));
    --light-primary-color-lighten: oklch(92% 0.05 var(--hue));
    --light-primary-color-darken: oklch(35% 0.25 var(--hue));
    --light-primary-color-hover: oklch(88% 0.035 var(--hue));
    --light-primary-color-transparent: oklch(55% 0.22 var(--hue) / 15%);
    --light-text-color: oklch(15% 0 0);
    --light-text-color-lighten: oklch(40% 0 0);
    --light-card-color: oklch(100% 0 0);
    --light-card-color-transparent: oklch(100% 0 0 / 90%);
    --light-background-color: oklch(98% 0.005 var(--hue));
    --light-border-color: oklch(92% 0.015 var(--hue));
    --light-title-color: oklch(100% 0 0 / 98%);
    --light-subtitle-color: oklch(100% 0 0 / 90%);
    
    /* アクセントカラー（ライトモード） */
    --light-accent-color: oklch(60% 0.25 var(--accent-hue));
    --light-success-color: oklch(55% 0.18 var(--success-hue));
    --light-warning-color: oklch(65% 0.15 var(--warning-hue));
    --light-error-color: oklch(55% 0.22 var(--error-hue));
    
    /* ダークモード用の色設定（より良いコントラスト） */
    --dark-primary-color: oklch(70% 0.18 var(--hue));
    --dark-primary-color-lighten: oklch(35% 0.06 var(--hue));
    --dark-primary-color-darken: oklch(55% 0.25 var(--hue));
    --dark-primary-color-hover: oklch(25% 0.04 var(--hue));
    --dark-text-color: oklch(98% 0.002 var(--hue));
    --dark-text-color-lighten: oklch(88% 0.002 var(--hue));
    --dark-card-color: oklch(18% 0.015 var(--hue));
    --dark-card-color-lighten: oklch(28% 0.03 var(--hue));
    --dark-card-color-transparent: oklch(20% 0.02 var(--hue) / 90%);
    --dark-background-color: oklch(12% 0.01 var(--hue));
    --dark-border-color: oklch(25% 0.025 var(--hue));
    --dark-title-color: oklch(100% 0 0 / 98%);
    --dark-subtitle-color: oklch(100% 0 0 / 90%);
    
    /* アクセントカラー（ダークモード） */
    --dark-accent-color: oklch(75% 0.22 var(--accent-hue));
    --dark-success-color: oklch(70% 0.16 var(--success-hue));
    --dark-warning-color: oklch(75% 0.18 var(--warning-hue));
    --dark-error-color: oklch(70% 0.20 var(--error-hue));
    
    /* デフォルトはライトモード */
    --primary-color: var(--light-primary-color);
    --primary-color-lighten: var(--light-primary-color-lighten);
    --primary-color-darken: var(--light-primary-color-darken);
    --primary-color-hover: var(--light-primary-color-hover);
    --primary-color-transparent: var(--light-primary-color-transparent);
    --text-color: var(--light-text-color);
    --text-color-lighten: var(--light-text-color-lighten);
    --card-color: var(--light-card-color);
    --card-color-transparent: var(--light-card-color-transparent);
    --background-color: var(--light-background-color);
    --border-color: var(--light-border-color);
    --title-color: var(--light-title-color);
    --subtitle-color: var(--light-subtitle-color);
    --accent-color: var(--light-accent-color);
    --success-color: var(--light-success-color);
    --warning-color: var(--light-warning-color);
    --error-color: var(--light-error-color);
    
    /* RGBバージョン（透明度操作用） */
    --primary-color-rgb: 88, 104, 255;
    --accent-color-rgb: 255, 64, 129;
  }

  /* ダークモード設定 */
  :root.dark {
    --primary-color: var(--dark-primary-color);
    --primary-color-lighten: var(--dark-primary-color-lighten);
    --primary-color-darken: var(--dark-primary-color-darken);
    --primary-color-hover: var(--dark-primary-color-hover);
    --text-color: var(--dark-text-color);
    --text-color-lighten: var(--dark-text-color-lighten);
    --card-color: var(--dark-card-color);
    --card-color-lighten: var(--dark-card-color-lighten);
    --card-color-transparent: var(--dark-card-color-transparent);
    --background-color: var(--dark-background-color);
    --border-color: var(--dark-border-color);
    --title-color: var(--dark-title-color);
    --subtitle-color: var(--dark-subtitle-color);
    --accent-color: var(--dark-accent-color);
    --success-color: var(--dark-success-color);
    --warning-color: var(--dark-warning-color);
    --error-color: var(--dark-error-color);
    
    /* RGBバージョン（透明度操作用） */
    --primary-color-rgb: 139, 157, 255;
    --accent-color-rgb: 255, 119, 170;
  }
  
  /* 読書モード（暖色系） */
  :root.reading-mode {
    --hue: 35;
    --background-color: oklch(96% 0.02 var(--hue));
    --text-color: oklch(20% 0.02 var(--hue));
    --card-color: oklch(98% 0.01 var(--hue));
    --primary-color: oklch(50% 0.15 var(--hue));
  }
  
  :root.dark.reading-mode {
    --hue: 35;
    --background-color: oklch(15% 0.02 var(--hue));
    --text-color: oklch(92% 0.01 var(--hue));
    --card-color: oklch(20% 0.015 var(--hue));
    --primary-color: oklch(65% 0.12 var(--hue));
  }

  /* HTML属性でデータテーマを指定した場合の対応 */
  html[data-theme="dark"] {
    color-scheme: dark;
  }

  html[data-theme="light"] {
    color-scheme: light;
  }

  /* 進捗バー */
  .swup-progress-bar {
    height: 5px;
    background-color: var(--primary-color);
  }
  
  html {
    scroll-behavior: smooth;
  }
  
  *:focus-visible {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
  }
</style>
